# Mobile Development Guide for Funeral App

## Overview
Your Funeral App now supports iOS and Android! The mobile apps are powered by **Capacitor**, which wraps your existing React web app into native mobile applications.

---

## üì± App Structure

```
app/
‚îú‚îÄ‚îÄ src/               # Your React web app source code
‚îú‚îÄ‚îÄ dist/              # Built web app (generated by Vite)
‚îú‚îÄ‚îÄ ios/               # iOS native project (Xcode)
‚îú‚îÄ‚îÄ android/           # Android native project (Android Studio)
‚îî‚îÄ‚îÄ capacitor.config.json  # Capacitor configuration
```

---

## üõ†Ô∏è Required Tools for Windows PC

### 1. **Node.js & npm** (Already Installed ‚úÖ)
- **Purpose**: Run the development server, build the web app
- **Version**: Node.js 18+ recommended
- **Check**: `node --version` and `npm --version`

### 2. **Git** (Already Installed ‚úÖ)
- **Purpose**: Version control
- **Download**: https://git-scm.com/downloads

### 3. **Visual Studio Code** (Recommended)
- **Purpose**: Code editor for web app development
- **Download**: https://code.visualstudio.com/
- **Recommended Extensions**:
  - ESLint
  - Prettier
  - Tailwind CSS IntelliSense
  - ES7+ React/Redux/React-Native snippets

### 4. **Android Development Tools**

#### A. Java Development Kit (JDK)
- **Purpose**: Required for Android development
- **Recommended**: JDK 17 (LTS)
- **Download**: https://adoptium.net/ or https://www.oracle.com/java/technologies/downloads/
- **Installation**:
  1. Download and install JDK 17
  2. Set `JAVA_HOME` environment variable:
     ```
     JAVA_HOME=C:\Program Files\Eclipse Adoptium\jdk-17.x.x
     ```
  3. Add to PATH: `%JAVA_HOME%\bin`

#### B. Android Studio
- **Purpose**: Build and test Android apps
- **Download**: https://developer.android.com/studio
- **Installation Steps**:
  1. Download Android Studio
  2. Run installer (includes Android SDK)
  3. During setup, install:
     - Android SDK
     - Android SDK Platform (API 34 or latest)
     - Android SDK Build-Tools
     - Android SDK Command-line Tools
     - Android Emulator
  4. Set environment variables:
     ```
     ANDROID_HOME=C:\Users\YourUsername\AppData\Local\Android\Sdk
     ```
  5. Add to PATH:
     ```
     %ANDROID_HOME%\platform-tools
     %ANDROID_HOME%\cmdline-tools\latest\bin
     ```

### 5. **iOS Development Tools** (Mac Required for Final Build)

**Important**: You can develop and test iOS apps on Windows using browser testing, but **building the actual iOS app (.ipa file) requires a Mac** with:
- **macOS** (Monterey or later)
- **Xcode** 14+ (Download from Mac App Store)
- **CocoaPods**: Install with `sudo gem install cocoapods`
- **Apple Developer Account** (For app store deployment)

**Alternative for Windows**:
- Use cloud Mac services like:
  - **MacStadium** (https://www.macstadium.com/)
  - **MacinCloud** (https://www.macincloud.com/)
  - **AWS Mac Instances**

---

## üöÄ Development Workflow

### Web Development (Works on all platforms)
```bash
cd "/d/Funeral App/Funeral App/Funeral App/app"
npm run dev          # Start development server
npm run build        # Build for production
npm run preview      # Preview production build
```

### Android Development
```bash
# 1. Build web app and sync to Android
npm run build:mobile

# 2. Open Android Studio
npm run android

# 3. In Android Studio:
#    - Select device/emulator
#    - Click "Run" button (green triangle)
```

### iOS Development (Mac Only)
```bash
# 1. Build web app and sync to iOS
npm run build:mobile

# 2. Open Xcode
npm run ios

# 3. In Xcode:
#    - Select simulator or connected iPhone
#    - Click "Run" button (play icon)
```

---

## üìù Common Development Tasks

### Adding New Features to Web App
1. Edit files in `src/` folder
2. Test in browser: `npm run dev`
3. When ready for mobile:
   ```bash
   npm run build:mobile    # Builds and syncs to both platforms
   ```

### Updating Mobile Apps After Code Changes
```bash
npm run build           # Build web app
npm run sync            # Sync to both iOS & Android
# OR
npm run sync:android    # Sync only to Android
npm run sync:ios        # Sync only to iOS
```

### Adding Capacitor Plugins (Native Features)
```bash
# Example: Add camera plugin
npm install @capacitor/camera
npm run sync

# Use in your React code:
import { Camera } from '@capacitor/camera';
```

### Testing on Real Devices

#### Android:
1. Enable "Developer Options" on your Android phone
2. Enable "USB Debugging"
3. Connect phone to PC via USB
4. Run `npm run android`
5. Select your device in Android Studio

#### iOS (Mac only):
1. Connect iPhone to Mac via USB
2. Trust the computer on iPhone
3. Run `npm run ios`
4. Select your device in Xcode

---

## üé® Customizing Your Mobile Apps

### App Icons & Splash Screens
1. Generate icons using: https://icon.kitchen/
2. Replace files:
   - **Android**: `android/app/src/main/res/` folders (mipmap-*)
   - **iOS**: `ios/App/App/Assets.xcassets/AppIcon.appiconset/`

### App Name
Edit `capacitor.config.json`:
```json
{
  "appName": "Your Custom Name"
}
```

### App ID (Package Name)
Edit `capacitor.config.json` (do this early!):
```json
{
  "appId": "com.yourcompany.appname"
}
```

---

## üì¶ Building Release Apps

### Android APK/AAB
1. Open Android Studio
2. Go to **Build** ‚Üí **Generate Signed Bundle / APK**
3. Create keystore (first time only)
4. Sign with your keystore
5. Output: `.apk` (for testing) or `.aab` (for Play Store)

### iOS IPA (Mac Only)
1. Open Xcode
2. Select **Product** ‚Üí **Archive**
3. Once archived, click **Distribute App**
4. Choose distribution method (App Store, Ad Hoc, etc.)
5. Sign with your Apple Developer certificates

---

## üêõ Troubleshooting

### Android Build Fails
- **Check JDK**: `java -version` should show version 11 or 17
- **Check Android SDK**: Verify `ANDROID_HOME` is set correctly
- **Clean Project**: In Android Studio: **Build** ‚Üí **Clean Project**

### iOS Build Fails (Mac)
- **Update CocoaPods**: `sudo gem install cocoapods`
- **Clean**: `cd ios && pod install && cd ..`
- **Clear cache**: In Xcode: **Product** ‚Üí **Clean Build Folder**

### App Not Updating on Device
```bash
npm run build:mobile    # Rebuild and sync
# Then rebuild in Android Studio/Xcode
```

### White Screen on Mobile
- Check browser console for errors
- Ensure paths are correct (no absolute URLs)
- Check `capacitor.config.json` webDir is set to `dist`

---

## üìö Useful Resources

- **Capacitor Docs**: https://capacitorjs.com/docs
- **Android Developer Docs**: https://developer.android.com
- **iOS Developer Docs**: https://developer.apple.com
- **React Docs**: https://react.dev
- **Vite Docs**: https://vite.dev

---

## üéØ Quick Commands Reference

| Task | Command |
|------|---------|
| Start web dev server | `npm run dev` |
| Build web app | `npm run build` |
| Build & sync mobile | `npm run build:mobile` |
| Open Android Studio | `npm run android` |
| Open Xcode (Mac) | `npm run ios` |
| Sync to both platforms | `npm run sync` |
| Sync Android only | `npm run sync:android` |
| Sync iOS only | `npm run sync:ios` |

---

## üîê Environment Variables

Create `.env` file in the `app/` folder:
```env
VITE_API_URL=https://your-api.com
VITE_APP_NAME=Funeral App
```

Access in code:
```javascript
const apiUrl = import.meta.env.VITE_API_URL;
```

---

## üì± Recommended Capacitor Plugins

```bash
# Camera access
npm install @capacitor/camera

# Storage (persistent data)
npm install @capacitor/preferences

# Push notifications
npm install @capacitor/push-notifications

# Share functionality
npm install @capacitor/share

# Geolocation
npm install @capacitor/geolocation

# Filesystem access
npm install @capacitor/filesystem

# Device info
npm install @capacitor/device

# Network status
npm install @capacitor/network
```

After installing any plugin, always run:
```bash
npm run sync
```

---

## üéì Next Steps

1. **Set up Android Studio** - Start building Android apps immediately on Windows
2. **Test in browser** - Most features work in web browser during development
3. **Get a Mac** (for iOS) - Or use cloud Mac service for iOS builds
4. **Customize app icons** - Make your app stand out
5. **Add native features** - Camera, push notifications, etc.
6. **Prepare for deployment** - Google Play Store & Apple App Store accounts

---

**Happy Mobile Development! üì±**
